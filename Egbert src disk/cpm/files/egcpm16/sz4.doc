



                                      SZ4.COM

              SZ4  is  a  full  screen interactive  disk  update    utility,
        providing  many of the features found in DU.COM.  The  program    is
        menu driven, and little additional documentation  is  required.  The
        following notes consist of a functional overview,  plus  notes    on
        features not documented in the menus.

        SYSTEM REQUIREMENTS.

              SZ4 requires a  ZCPR3  system  and  works  equally  well  with
        ZCPR3.x and Z3PLUS.

              One or more disks may be used - SZ4 determines if  a  selected
        disk is defined in the BIOS before attempting to access it.


                                    FACILITIES.

              SZ4 enables disk sector editing in HEX or ASCII,   using  File
        Relative  or  Track/Sector addressing.  In File Relative   mode    a
        sorted  directory  listing is used to select the  file.   In    both
        modes  forward  and backward browse is provided,  in  addition    to
        random record selection.  The displayed sector may be  copied  to  a
        scratchpad  buffer,   or  exchanged  with  the  scratchpad.      The
        directory  list may be full (*.*) or selective,  eg  *.ASM  and  the
        selection may be changed at any time.

              A file TYPE facility gives a paged, formatted display  of  any
        file.  Control characters are displayed as "." except  for  TAB  and
        Carriage return/Line feed which are processed  normally.  COM  files
        are not formatted.

                     The  SZ4  command  format may  enter  any   operational
        mode directly -

              SZ4                   enters SZ4 with a *.* directory list.
              SZ4 d:                as above with d:*.* directory list.
              SZ4 [d:]afn           as above with d:afn directory list.
              SZ4 [d:]ufn           enters SZ4 in file relative mode,
                                    using the specified file.
              SZ4 [d:]DSK:          enters SZ4 in Track Sector addressing
                                    mode on the specified drive.
              SZ4 //                displays a couple of HELP screens.

        DIRECTORY LIST MODE.

              In directory list mode the cursor is positioned on  the  first
        filename displayed.  The cursor can be moved LEFT,  RIGHT,    UP  or
        DOWN using Control keys.  A file is selected by typing  a    command
        character  against the required file name - "E"  for  file  relative
        editing, or "T" for the TYPE function.

              Up to 32 file names are listed. If there are more  files,  the
        directory list may be paged forward and back.


              Other  drives may be selected or the current disk changed    -
        NOTE  - if the disk in the current drive is changed,    the  "change
        disk"  function  should be used to select the same   drive    again.
        This  provides a new directory list,  and avoids CP/M  making    the
        disk Read Only.

              Track/Sector addressing is selected from the directory    list
        display.

              The directory list selection may be changed - the  default  is
        *.* unless set by the SZ4 command.

         FILE RELATIVE MODE.

              In this mode the selected file is displayed in HEX  and  ASCII
        format  with  record number and file offset displayed.   For    .COM
        files the address when loaded at 0100H is displayed.

              The record displayed may be selected by browsing  forward  and
        back,  locating the first or last record,  or by  setting  a  record
        number  (in HEX).  When setting a record number,  Hex  digits    are
        entered  in  "calculator style" - new digits are entered   on    the
        right  while the number moves left.  Backspace deletes   the    last
        digit  entered,  and Escape restores the original   number.    These
        features  are common to all number entries in SZ4.   The    selected
        record  is read when RETURN is pressed.  If it is not  found,    the
        previous record number will be restored.

              The  displayed  record may be changed  by  typing  "C".    The
        cursor  is positioned on the first hex digit,  and  is  moved  using
        the same control keys as are used in the directory  list  mode.  Any
        valid  hex digit may be typed to alter the record.  The   TAB    key
        moves  the  cursor  to  it corresponding location  in   the    ASCII
        display, allowing character strings to be  easily  changed.  Another
        TAB returns the cursor to the HEX display area.

              Two control codes are available to stop editing  the    record
        -one saves the changes and rewrites the  record  to  disk,       the
        other restores the record to its original contents.

              Return to directory list mode is made by typing "L".

        TYPE FILE

              Files are TYPEd with up to 72 characters per line,   18  lines
        per page.  Except for .COM files, Carriage  return/Line  feed  codes
        are honoured, and Tabs are expanded. All  other  control  characters
        are  displayed  as  "."  to  prevent  unwanted   terminal    control
        functions.

              Forward   and  backward  paging  operations  are     provided,
        including return to top of file.  Following paging,   the    highest
        page displayed can be restored.

        DIRECTORY LIST SELECTION.

              The  ambiguous file name used for the directory list may    be
        edited  by  typing "M" in the directory list  mode   display.    The
        existing  file NAME and TYPE may be overwritten or   edited    using
        INSERT and DELETE control keys.  Only those  characters  defined  as
        legal in the CPM documentation are permitted.


              If  "*"  is  typed at any point in the  NAME  or  TYPE,    the
        remainder  of the field will be filled with "?".  If a   SPACE    is
        typed the remainder of the field will be blanked  out.  Period  also
        has  this  effect if used in the  NAME  field  -  an       ambiguous
        filename may thus be entered in the normal fashion.

                     The TAB key switches between editing the NAME and TYPE.

              The  ESCAPE  key  restores the  original  selection,    RETURN
        produces a new directory list.

              NOTE  - insert  and  delete  affect  only  the  field    being
        edited, - characters do not wrap between name and type.

        TRACK/SECTOR ADDRESSING.


              This  mode is  entered  by  typing  "S"  in  directory    list
        mode.The  facilities provided here are similar to   File    Relative
        mode, but  sectors  are  selected  by  setting    (or       browsing
        back  and forward) track and sector numbers.  The  allocation  block
        number is also displayed and may be set.  When a block  number    is
        set,  the first sector of that block  is  displayed.     The  record
        displayed may  be  altered  in  the    same  manner    as       File
        Relative  mode.  The  scratchpad  facility  is   also  available  in
        this mode.  Note that  sectors  saved  in  one  mode  are  available
        for exchange in  the other mode.

        When you select track/sector mode,  the default track number used to
        be 0 but I changed it so that  the  default  is  now  the  directory
        track.   It  is  not  very often you want to look at   the    system
        tracks with a disk editor.   More frequently you want  to    recover
        files by fiddling the directory.  Besides, on a  "split"  hard  disk
        where the splitting is done by cylinder rather than  by  platter  or
        surface, there may not even be a track 0 on the selected disk.

        In  sector  displays,  characters with the high bit set   are    now
        displayed in inverse video rather than as dots.     This  simplifies
        reading directory sectors where files have attribute bits set.


         If anyone wants to contact John, his address is:-

                       John Hastwell-Batten,
                       SYSOP,
                       Tesseract RCPM+,
                       P.O. Box 242,
                       Dural, NSW 2158,
                       AUSTRALIA


              It should be mentioned that all the routines in  this  program
        controlling keyboard input can be aborted by pressing "ESC" and that
        partial deletions of the input are achieved by pressing the  'Cursor
        Left' arrow.

              A 'Select to Page No.' routine has been introduced into    the
        Type routine.  The input is  decimal.    Since   the    relationship
        between pages of text and sector numbers is not   predictable    the
        only  way  to  avoid  ending  up  totally  knotted  is  to      read
        sequentially  down or up the file.  The routine can  be  stopped  at
        any time by pressing the STOP button (Control-C).

                                                                 . . . more/



              The Erase File feature deletes the file at the cursor position
        using CP/M's erasure routines,  which  prefix  the  directory  entry
        (entries) with E5h.  If  a  file  is  erased  in  error  it  can  be
        resurrected by re-setting the directory entry  (or  entries  if  the
        file is greater than 16k)  by  switching  to  the  'Track  /  Sector
        Addressing Mode' and changing the directory entry (or entries if the
        file is greater than 16K) back to 0n where n is User No.

        TAKE GREAT CARE NOT TO DWELL ON THE 'K' FOR ERASE BUTTON SINCE  THIS
        MAY DELETE MORE THAT ONE FILE!

              In this version of Superzap the 'Find  a  String'  routine  in
        Edit Mode has been re-introduced with input either in ASCII  or  HEX
        format.  The search is precise to case - e.g. a search for the  word
        'Function' will be unsuccessful  with  the  input  'function'.    If
        control  characters  are  included  in  an  ASCII  string  they  are
        displayed.  Thus a press of the 'TAB' key  will  be  represented  on
        screen as '^I'.  The maximum length of string that  can  be  entered
        for the search is 32 characters.    The  'Find  Same  String  again'
        option  will  continue  the  search  for  a  string  already  input.
        Pressing  STOP  (Control-C)  during  the  search  will   abort   it,
        displaying the sector that would have been searched next.   Searches
        will run more quickly if the file is first put onto the  'M:'  drive
        (about 20K per second).    When  the  'Not  Found'  message  appears
        program control has been returned to the main Edit  Mode  vector  so
        that  in  fact  all  the  menu  options  displayed  are  immediately
        available to the user.


        S.J. Younger     April 1988

        Gorm Helt-Hansen. February 1991.
