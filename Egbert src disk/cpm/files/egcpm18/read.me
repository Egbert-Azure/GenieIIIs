

                                             Brodersdorf, 17.3.93



Hallo Egbert !

 Die Windowbibliothek f}r Pascal ist wirklich sehr schick. Damit kann man  
bestimmt was anfangen. Ich bin allerdings in den letzten Tagen  zu 
fast gar nichts mehr gekommen, war etwas krank und hab angefangen zu 
studieren.

 Wenn ich was gemacht habe, dann hab ich mit dem HI-TECH C-Compiler 
rumgespielt. Ich hab zun{chst einmal die 'system()' Funktion der Holte Library 
eingebunden, um die Spezialfunktionen des BIOS nutzen zu k|nnen, das ist mir 
dann auch gelungen. Dann hab ich die Grafikroutinen die ich mal von dir        
bekommen habe erweitert, um Punkte auch wieder zu l|schen und kompiliert und 
zu einer Library namens HOLTE.LIB zusamengelinkt. Das Programm GRATEST zeigt 
alle M|glichkeiten der Grafik. Die Punkte werden nur normiert gesetzt bzw. 
gel|scht, das schafft Kompaktibilit{t zwischen Rechnern mit verschieden 
Zeichens{tzen (ich hab den FONT14) und die Kreise werden eh normiert 
gezeichnet.

 Das Problem des HI-TECH Compilers ist aber die ]bersetzungs- 
geschwindigkeit, es dauert einfach zu lange selbst kleine Files zu 
}bersetzen. Ich hab auch mal ein bi~chen mit dem BDSC-Compiler rumgespielt, 
er ist ziemlich schnell und auch sonst etwas komfortabler, er durchsucht zum 
Beispiel alle linkbaren Files in dem Userbereich, wenn er ein Symbol nicht 
gefunden hat. Aber das Problem des BDSC ist dann wieder ein fehlendes 
Handbuch.

 Das Problem des ZPM3 ist gel|st. Alexander hat mir geschrieben, da~ das ZPM 
auf seinem Z280 auch nicht l{uft, weil ZPM das Register IX benutzt, aber nicht 
vorher sichert und sp{ter dann wieder restauriert. Und beim DISKIO1.MAC bin 
ich dann auch f}ndig geworden, die Schreib-/Leseroutine f}r Laufwerk P: 
benutzt IX. Ich hab einfach an den 3 relevanten Stellen IX durch IY ersetzt 
und es funktioniert pr{chtig. Am Beginn der Routine wird IX entweder mit der 
Adresse der Lese- oder der Schreibroutine f}r Sektoren geladen und nachdem 
die DCT getauscht wurde wird mit JP (IX) dann die jeweilige angsprungen.

 Du kannst auch die 3 Bytes im CPM3.SYS von Hand patchen, zun{chst sucht du 
nach der Zeichenfolge 'DD E9', hei~t 'JP   (IX)'. Das DD ersetzt du einfach 
durch FD, dann hei~t der Befehl 'JP    (IY)'. Einige Bytes vor dieser Stelle 
kommt folgende Bytefolge :
 
                              DD 21 xx xx         ( LD    IX,FD$READ   )
                              18 xx               ( JR    P$TASK       )
                              DD 21 xx xx         ( LD    IX, FD$WRITE )

 Dort mu~t du die beiden DD's durch FD's ersetzen, die Ladebefehle beziehen 
sich dann auf das IY-Register. Zu dem ZPM3 kann ich dir nur raten, nach 
Alexanders Reden ist es erheblich schneller als das alte BDOS, besonders in 
der Bildschirmausgabe, das kann ich leider nicht best{tigen, mir ist nicht so 
viel mehr Speed aufgefallen. Aber diese eingebaute Historyshell mit der 
intuitiven Befehlserweiterung ist total klasse, find ich jedenfalls. Das 
macht allerdngs nur Sinn, wenn du mit AUTUTOG arbeitest, also mit ^Q die 
Funktion wieder ausschalten kannst. Sonst wird halt aus einem getippten DIR 
ein vielleicht vorher mal getiptes DIR C6:*.COM. Das wird dann nat}rlich 
l{stig. Au~erdem brauchts du dann den LSH nicht mehr, er ist zwar etwas 
komfortabler aber das Abspeichern dauert nat}rlich auch etwas Zeit. 
Errorhandler funktionieren trotzdem weiterhin.

 Au~erdem ist in der HOLTE.LIB noch eine CPM 3 kompaktible BIOS-Funktion, die 
mir Alexander geschrieben hat. Ich wollte }ber BIOS-Calls einige Sektoren 
einer 8 Zoll Diskette lesen, und war entt{uscht, das es nicht wie mit dem MI-C 
funktionierte. Jetzt gehts aber.

 Heute habe ich von Alexander auch die neueste Version von ZPM3 bekommen, 
liegt auf Diskette bei. Ich h{tte noch mal eine Bitte an Dich, betreffend 
WordStar 4. Ich hab den Druckertreiber f}r meinen Panasonic gefunden und auch 
initialisieren k|nnen. Leider druckt WS alles in der Elite-Schrift und au~erdem 
wird der amerikanische Zeichensatz eingestellt. Was ich br{uchte w{re ein 
Handbuch oder zumindest eine Kurzbeschreibung f}r die Punktbefehle. Ich hab 
zwar eine Quick-Reference f}r WS 3.0 aber WS 4 ist etwas anders. Zum Thema 
Kopierkosten sag ich mal 10.- M.

 Die Listings zum Thema INLASS find ich zwar nicht schlecht, aber wer soll das 
alles abtippen ?? Hast du denn alte CHIP-Ausgaben ? Ich hab mal irgendwo in 
einem Artikel von Helmut gelesen, da~ in der CHIP ein Testbericht }ber das 
Genie IIIs abgedruckt ist. Den w}rd ich zu gerne mal lesen.

 Und die Diskette mit dem PC-DOS, auf der die *.H Dateien von Turbo C drauf 
sind, kann ich nicht kopieren, weil einige Dateien in Subdirectories sind. 
PCCOPY meldet fatale I/O-Fehler und das MS2CPM kann nicht in Subdirectories 
'einsteigen' und Files von dort holen. Aber die Headerdateien sind auch nicht 
so wichtig, dort stehen h|chstens die Funktionsprototypen, falls man auch die 
Grafik kompaktibel zum PC haben m|chte w{rs interessant.

So weit erstmal, sch|ne Gr}~e

P.S.: Probier doch mal bitte das DHRY.COM aus. Es ist wohl eine Art 
Benchmarkprogramm, und mich w}rde mal interressieren, ob un d wenn ja wieviel 
schneller mein Z180-Rechner ist. Mein DHRY-Wert liegt bei 555 Dhry/sec, also 
f}r 65500 Durchl{ufe 118 s.

                                                                 