                               TheInst
                Das universelle Installationsprogramm
                        (C)1989  Olaf Krumnow

Nacè ThePatcè voî Herberô zuò Neddeî folgô jetzô diå eigentlicè  logi
schå  Konsequenz¬ n{mlicè TheInst¬ daó  universellå  Installationspro
gramm®  Eó wird¬ {hnlicè wiå ThePatch¬ durcè  einå  Installationsdateé 
gesteuert¬  iî deò diå Informationeî }beò diå zõ installierendå  Dateé 
stehen®  Uí diå Installatioî sï einfacè wiå irgenä m|glicè zõ  machen¬ 
steheî etlichå Datenstruktureî zuò Verf}gung¬ diå miô TheInst‚  instal
lierô  werdeî  k|nnen® Daó reichô voî eineí einzelneî Biô bió  hiî  zõ 
eineí (fast© beliebiç langeî String.


Isô docè immeò daó gleiche¬ oder?
Eiî neueó Programí isô fertiç geschriebeî unä solì nuî  ver|ffentlichô 
werden®  Bleibô nocè diå Dokumentatioî zõ schreiben¬ waó  schoî  immeò 
nerviç genuç ist» unä danî kommô deò erstå aî unä m|chtå dieseó sï unä 
jeneó  anderó  eingestellô haben® Alsï einå  Patchdateé  f}ò  ThePatcè 
schreiben¬ waó abeò alleó nichô sï daó wahrå ist¬ denî ThePatcè bieteô 
leideò nichô allzuvieì Komforô unä eó isô umst{ndlicè zõ bedienen¬  dá 
jeder¬ deò etwaó {nderî will¬ diå Steuerdateé {nderî mu~.
Waó  laç dá alsï n{her¬ aló eiî Programí zõ schreiben¬ daó diå  ganzeî 
[nderungeî }bernimmô unä deî Benutzeò nacè seineî Eingabeî fragt¬  da
beé gleicè diå bereitó eingestellteî Wertå anzeigô unä auæ Wunscè  un
ver{nderô }bernimmt® Sï entstanä danî alsï TheInst.

Voraussetzungen:

Einzigå  zwingendå Voraussetzunç isô RAÍ 4.µ odeò neuer¬ dá deò  inte
griertå  Zeileneditoò voî RAÍ 4.µ benutzô wird¬ uí Stringó zõ  editie
ren®  Zugegeben¬  aucè RAÍ 4.³ hattå dieseî Editoò schon¬  nuò  leideò 
konntå maî ihí nocè keinå Zeilå }bergeben.


TheInst‚ auó deò Sichô deó Anwenders:

Deò  Aufruæ  isô  ziemlicè einfach¬ n{mlicè  TheInsô  filename¬  wobeé 
filenamå  deò Namå deò Steuerdateé OHNÅ Dateityğ ist® Dieseò muş  n{m
licè immeò .INÓ sein® Danacè wirä diå Steuerdateé eingeleseî unä  ent
sprechenä deò Anweisungeî verfahren.

Isô  diå Steuerdateé einå f}ò mehrerå Programmå anwendbarå  Datei¬  sï 
wirä jetzô diå Frage

Giâ deî Nameî deò zõ installierendeî Dateé eiî ­-¾ 

woraufhiî Dõ miô deí Dateinameî antworteî mu~ô (Namå unä Typ!)®  Gibsô 
Dõ  hieò  irgenä waó falscheó ein¬ sï mu~ô Dõ zuò Strafå  wiedeò  ganú 
vornå  anfangen®  Ferneò solltesô Dõ darauæ achten¬ daş  daó  Programí 
aucè zuò Steuerdateé pa~t¬ sonsô gibt'ó nuò Schrott.

Auó deò Sichô deó Anwenderó gibô eó ¶ verschiedenå Datentypen¬ n{mlich

1)   Bytewerte mit einem Bereich von 0 bis 255
2)   Wortwerte mit einem Bereich von 0 bis 65535
3)   logische Werte die mit JA oder NEIN beantwortet werden.
4)   Zeichen: ein einzelnes Zeichen.
5)   Flag-Bytes,  die bis zu 8 logische Werte  enthalten,  jedoch 
     anders gesetzt werden als die logischen Werte unter 3)
6)   Strings, also Textzeilen.


Dieså  Datentypeî sinä anhanä deó Prompts¬ alsï deò  Aufforderunç  voî 
Seiteî  TheInst's¬  zõ unterscheiden® Eó isô abeò zõ hoffen¬  daş  deò 
gutå  Mensch¬ deò diå Steuerdateé entworfeî hat¬ nocè genauå  Hinweiså Šgibt¬  welchå Wertå erlaubô sind® Abeò daf}ò kanî icè nat}rlicè  nichô 
garantieren.

Zu 1) Eiî  Bytå  haô diå m|glicheî Wertå voî ° bió 25µ (HEXº  $0°  bió 
     $FF)® Daó Prompô f}ò eiî Bytå siehô sï ausº (RET=$xx)­-¾ wobeé 
     xø  deò altå Werô ist® Daó Dollarzeicheî haô seineî Sinn® Dá  icè 
     dieseó  Programí m|glichsô einfacè halteî wolltå (f}ò  micè  beií 
     Programmieren)¬ habå icè diå iî TURBÏ-Pascaì eingebauteî Routineî 
     benutzt¬  uí einå Eingabå iî einå Zahì umzuwandeln® Unä diå  wilì 
     f}ò  HEØ-Zahleî nuî maì eiî '$§ aí Anfanç haben®  Nat}rlicè  kanî 
     aucè  einå dezimalå Zahì eingegebeî werden® Beé deò  Eingabå  voî 
     ung}ltigeî Zeicheî odeò eineò Bereichs}berschreitunç (eiî Werô  ¾ 
     255© wirä einå neuå Eingabå verlangt® Dr}cksô Dõ nuò <RET>¬  ohnå 
     etwaó einzugeben¬ sï wirä deò altå Werô }bernommen¬ waó já  schoî 
     daó  Prompô versprocheî hat® Abeò daó d}rftå aucè alleó  einiger
     ma~eî klaò sein¬ oder?

Zu 2) Eiî Worô isô doppelô sï lanç wiå eiî Byte® Daó hei~ô abeò nicht¬ 
     daş  eó doppelô sï vielå Wertå annehmeî kann® Daó  sinä  gl}ckli
     cherweiså vieì mehr® Siå reicheî voî ° bió 6553µ (HEXº $000°  bió 
     $FFFF)®  Aucè  hieò gilô daó unteò 1©  gesagte®  Allerdingó  legô 
     TURBÏ-Pascaì nocè eineî Steiî iî deî Wegº Einå Eingabå  dezimaleò 
     Wertå }beò 3276· isô nichô m|glich® Stattdesseî m}sseî danî nega
     tivå  Wertå eingegebeî werden® Dieseó Probleí kannsô Dõ  umgehen¬ 
     wenî Dõ HEØ-Wertå eingibst.

Zu 3) Logischå Ausdr}ckå k|nneî zweé m|glichå Wertå annehmen¬ WAHÒ unä 
     FALSCH® F}ò unó isô eó praktischer¬ dieså aló JÁ unä NEIÎ  auszu
     dr}cken®  Daó Prompô siehô alsï sï ausº (RET=JA)­->® Statô  JÁ 
     kanî aucè NEIÎ dorô stehen¬ evtl® Aucè 'undefiniert'® Aló Antworô 
     kannsô  Dõ jetzô eiî 'J§ wiå JÁ (wahlweiså isô aucè eiî  'Y§  f}ò 
     engl® YEÓ m|glich© odeò eiî 'N§ f}ò NEIÎ eingeben® Bleibô nuò  zõ 
     hoffen¬ daş diå Fragestellunç eindeutiç ist¬ oder?

Zu 4) Eiî  einzelneó Zeichen¬ daó }beò diå Tastatuò  angegebeî  werdeî 
     kann® Daó Prompô isô (RET=X)==>“ odeò (RET=^X)==>® Dõ kannsô 
     danî  }beò diå Tastatuò eiî neueó Zeicheî eingeben® Deò  Werô  ^Í 
     isô allerdingó nichô m|glich¬ dá eò voî <RET¾ gelieferô wirä  unä 
     daó bedeutet¬ deî alteî Werô unver{nderô zõ }bernehmen.

Zu 5) Flaç-Byteó sinä Bytes¬ diå mehrerå einzelnå Flagó enthalten¬ bió 
     zõ  ¸ n{mlich® Dieså k|nneî jetzô einzelî ver{nderô werden®  Ihrå 
     Bedeutunç solltå nat}rlicè vorheò bekannô sein® Eó erscheinô fol
     gendeó Bild:

     Bit#   7 6 5 4 3 2 1 0
            0 0 0 0 0 0 0 0 ==> 00
     Bit# ? 

     woraufhiî  Dõ  jetzô diå Nummeò deó Bitó dr}ckst¬ daó  Dõ  {nderî 
     willst®  Miô jedeí Dr}ckeî wirä daó Biô umgeschaltet®  Wenî  allå 
     Bitó  zõ  Deineò Zufriedenheiô eingestellô sind¬  sï  geht'ó  miô 
     <RET¾ weiter.

Zu 6) Waó eiî Strinç ist¬ d}rftå eigentlicè jedeò Wissen¬ deò aucè nuò 
     etwaó  Erfahrunç  miô Computerî hat® Eiî  Strinç  erscheinô  OHNÅ 
     Prompt®  Eó wirä einfacè deò momentaî installiertå  Strinç  ange
     zeigt¬ deò danî nacè beliebeî ge{nderô werdeî kann® Wiå deò  Zei
     leneditoò  funktioniert¬ solltå maî iî deò Dokumentatioî zõ  RAM´ 
     nachlesen® Eò isô rechô leistungsf{hig.


Daó  waò eigentlicè schoî alles¬ waó deò Nuò-Anwendeò wisseî  mu~¬  uí 
miô TheInst‚ zõ arbeiten® Wenî diå Installatioî trotzdeí nichô sï rechô 
klappeî sollte¬ sï haô derjenigå Schuld¬ deò diå Steuerdateé entworfeî 
hat.Š

TheInst aus der Sicht des Programmierers:

Daş  diå ganzå Choså f}ò deî Programmiereò maì wiedeò nichô sï  leichô 
ist¬  waò já wohì klar® Denî eò muş docè etwaó genaueò angeben¬  woruí 
eó  eigentlicè geht® Auó deò Sichô deó Programmiereró kennô TheInst‚  ¸ 
Datentypen¬ welchå sind:

1)   Integer:  Ein Wort im Intel-Format, also zun{chst  Low-Byte, 
     dann High-Byte.

2)   Integer:  Ein Wort im inversen Intel-Format,  also  zun{chst 
     High-Byte, dann Low-Byte.

3)   Ein  einzelnes  Zeichen.  Ein Byte  wird  als  ASCII-Zeichen 
     interpretiert.

4)   Ein Byte als Wert von 0 bis 255. 

5)   Ein Byte als JA/NEIN-Flag, das zwei m|gliche Werte  annehmen 
     kann.

6)   Ein Byte, das 8 einzelne Flags repr{sentiert.

7)   Ein Bit als JA/NEIN-Flag.

8)   Ein   String,  also  eine  Folgen  von  Zeichen  mit   einer 
     bestimmten Endemarkierung.

Miô  dieseî achô Datentypeî k|nneî wohì sï ziemlicè allå  vorkommendeî 
F{llå installierô werden.

Der Aufbau der Steuerdatei:

Diå Steuerdateé isô einå normalå Textdatei¬ diå miô jedeí Editoò (z.B® 
MTØ-Edit©  erstellô werdeî kann¬ solangå iî keineí Zeicheî  daó  7.Biô 
gesetzô isô (beé Newworä alsï deî NOÎ-DOÃ-Moduó verwenden).
Diå erstå Zeilå deò Dateé enth{lô deî Nameî deò zõ installierendeî Da
tei¬  unä zwaò Namå unä Typ® Stehô iî dieseò Zeilå nuò  eiî  Fragezei
chen¬ sï wirä aî dieseò Stellå deò Benutzeò nacè deí Nameî deò zõ  in
stallierendeî Dateé gefragt® Daó isô n}tzlich¬ falló miô eineò Steuer
dateé mehrerå Programmå installierô werdeî k|nnen.
Iî  deò zweiteî Zeilå stehô deò Namå eineò Folgedatei¬ diå nacè  Abar
beitunç dieseò Dateé ausgef}hrô wird® Daó isô sinnvoll¬ wenî sicè einå 
Installatioî  }beò mehrerå Zieldateieî erstreckt¬ z.B®  Overlays®  Deò 
Namå isô OHNÅ Dateityp¬ dá deò Tyğ miô .INÓ vorgegebeî ist.

Allå restlicheî Zeileî beinhalteî diå eigentlichå Installation®  Dieså 
Zeileî  unterteileî sicè iî zweé Typenº Textzeileî unä  Anweisungszei
len®  Siå unterscheideî sicè durcè daó erstå Zeicheî deò  Zeile®  Einå 
Anweisungszeilå beginnô IMMEÒ miô eineò Ziffeò (0..9)® Jedå Zeile¬ diå 
nichô miô eineò Ziffeò beginnt¬ isô einå Textzeile® Textzeileî  werdeî 
unver{nderô auæ deî Bildschirí ausgegeben® Siå k|nneî beliebiç  aufge
bauô seiî unä nat}rlicè aucè Steuerzeicheî enthalten¬ uí daó  Erschei
nungsbilä  etwaó interessanteò zõ gestalten® Hieò sinä  deò  Phantasiå 
nuò Grenzeî durcè deî MTX++«-Treibeò gesetzt.

Daó  eigentlicè wichtigå sinä abeò nat}rlicè diå Anweisungszeilen®  Aí 
Anfanç  eineò solcheî Zeilå stehô immeò diå Adresså deó zõ  installie
rendeî  Wertes®  Dabeé haô daó erstå Bytå eineò Dateé  deî  Werô  010° 
(allå  Zahleî iî Anweisungszeileî sinä immeò iî HEX!)¬ damiô deò  Werô 
kompatibeì isô zõ deî Debuggerî unä Listingdateieî deò Assembler®  Diå 
Zahì isô aî keiî Formaô gebunden¬ lediglicè daó erstå Zeicheî muş einå 
Ziffeò  seiî  (sonsô w{rå eó já einå Textzeile)® 010° kannsô  Dõ  alsï 
aucè aló 10° odeò meinetwegeî aló 00010° schreiben® Daó isô miò v|lliç Šschnuppe® Lediglicè einå Obergrenzå gibô es¬ diå unó voî  TURBÏ-Pascaì 
auferlegô  wird®  Deò  h|chstå  erlaubtå Werô  isô  03FFF8°  (Daó  isô 
128*MaxInt)®  Nacè deò Adresså folgeî eiî bió beliebiç vielå  Leerzei
cheî odeò Tabs..® Unä danî gehô eó ersô richtiç los.

Jetzô  folgô n{mlicè daó eigentlichå Kommando® Eó kanî ±  bió  mehrerå 
Zeicheî  lanç sein¬ wobeé deò erstå Buchstabå immeò deî  Datentyğ  an
gibt¬  deò installierô werdeî soll® Eó gibô einigå Kommandos¬ diå  be
reitó miô deí Kommandobuchstabeî kompletô sind® Dieså sind:

W    f}ò  eiî Wort¬ alsï eineî Integeò-Werô ií }blicheî  Inteì-Format® 
     Ií  Speicheò stehô alsï zun{chsô daó Lo÷-Bytå unä danî daó  Higè-
     Byte®  F}ò deî Anwendeò wirä deò Werô abeò iî deò logischeî  Rei
     henfolgå angezeigt® Alsoº Ií Speicheò stehô 5µ 66¬ ií Prompô  er
     scheinô $6655.

X    f}ò  eiî Wort¬ daó nichô ií Inteì-Formaô abgelegô ist¬  alsï  zu
     n{chsô daó Higè-Bytå unä danî daó Lo÷-Byte® Stehô ií Speicheò  5µ 
     66¬  sï  erscheinô ií Prompô $5566® Abeò daó d}rftå  auæ  unsereí 
     Rechneò eigentlicè nichô vorkommen.

Z    f}ò  eiî einzelneó Zeichen® Deò Bytewerô wirä  aló  ASCIÉ-Zeicheî 
     behandelô unä angezeigt® Handelô eó sicè uí eiî  Controì-Zeichen¬ 
     sï wirä eó aló ^ø dargestellt.

E    f}r ein Byte. Das Byte wird als Wert von 0 bis 255 behandelt.

B    f}ò  eiî Byte¬ daó bió zõ ¸ einzelnå Bitflagó enth{lt® Hieò  wirä 
     mit

     Bit#    7 6 5 4 3 2 1 0
             0 0 0 0 0 0 0 0 ==> 00
     Bit# ?

     geprompted®  Danî k|nneî diå Nummerî deò Bitó  angegebeî  werden¬ 
     diå  ge{nderô  werdeî sollen® Diå Anzeigå wirä  st{ndiç  auæ  deí 
     neuesteî Stanä gehalten® Miô <RET¾ wirä diå Eingabå beendet®  Beé 
     dieseí  Datentyğ  muş ií Begleittexô alsï auæ diå  Bedeutunç  deò 
     einzelneî Bitó hingewieseî werden.


Daó sinä diå Kommandos¬ diå ohnå weiterå Angabeî auskommen® Allå ande
reî Kommandoó sinä etwaó komplizierter.

Fn1/n2‚  stehô f}ò eiî Flag¬ daó iî eineí Bytå abgelegô ist®  Eiî  Flaç 
     kanî  bekanntlicè zweé Wertå annehmen¬ JÁ unä NEIN® Iî  n±  stehô 
     deò  Werô f}ò JA¬ iî n² deò Werô f}ò NEIN® n± unä n²  sinä  zwei
     stelligå HEØ-Zahlen® Eiî Beispielº F00/FF» dorô stehô alsï 0° f}ò 
     JÁ  unä  FÆ  f}ò NEIN® Beé Ã-Programmeî  d}rftå  diå  Kombinatioî 
     F00/0±  h{ufigeò sein¬ dá dorô Wahrheitswertå miô  dieseî  Zahleî 
     bearbeiteô werden® Findeô TheInsô aî deò angegebeneî Adresså kei
     neî deò beideî Werte¬ sï erscheinô ií Prompô 'undefiniert'.

Jm/n stehô f}ò eiî Flag¬ daó iî eineí Biô abgelegô ist® Dabeé stehô  í 
     f}ò  diå Bitnummeò (° bió 7¬ miô · aló h|chstwertigeí Bit© unä  î 
     f}ò  deî Werô voî JÁ (° odeò 1¬ mehò kanî eiî Biô nunmaì  nicht)® 
     Eiî  Beispielº  J4/0» Biô ´ iî deí adressierteî  Bytå  dienô  aló 
     Flag¬ miô 0=JÁ unä 1=NEIN® Ií Gegensatú zõ Kommandï F‚ sinä í  unä 
     î beé dieseí Kommandï einstellig.

Sn1/n2‚ stehô f}ò eineî Textstring® Stringó sinä já nuî etwaó komplexe
     rå  Dingeò unä neigeî dazu¬ iî unz{hlbareî Variationeî  aufzutre
     ten®  Nuò eiî paaò Beispieleº Iî TURBÏ-Pascaì haô eiî Strinç  eiî 
     L{ngenbyte¬ gefolgô voî deí Text® Iî Ã wirä deò Strinç miô  eineí 
     0°-Bytå beendet® CP/Í verlangô eiî '$§ aí Ende® Icè selbsô benut
     zå gerî diå Variantå miô deí gesetzteî 7.Biô aló  Endemarkierung® Š     Dieså  verschiedeneî  Typeî werdeî durcè deî Werô voî  n±  unter
     schieden:
     B7“ stehô f}ò Biô 7¬ alsï eineî String¬ deò durcè eiî gesetzteó 7® 
     Biô beendeô wirä (daó beendendå Zeicheî geh|rô miô zuí String).
     NE“  stehò f}ò keinå Ende¬ alsï eineî String¬ deò keinå  Endå-Ken
     nunç besitzt® 
     L0“ stehô f}ò eineî Strinç miô eineí L{ngenbytå aí Anfang®  Direkô 
     danacè folgô deò eigentlichå String.
     Allå andereî Wertå (wiå }blicè iî zweistelliç HEX© bezeichneî eiî 
     Endezeichen® Daó kanî z.B® 0° sein¬ odeò 2´ f}ò CP/Í odeò  sonst
     was.
     n²  definierô diå maximalå L{ngå deó Stringó inklusive“ deò  Ende
     markierunç bzw® L{ngenangabe® Eiî Strinç miô 1° Zeicheî unä eineí 
     0°-Bytå  aí Endå brauchô alsï diå L{ngenangabå 0Â  (1±  Zeichen)® 
     Eiî paaò Beispiele:
     SL0/51  ist  ein  String,  der  in  TURBO-Pascal  mit  string(80) 
     definiert werden w}rde.
     SB7/10  ist  ein String mit max. 16 Zeichen,  beendet  durch  ein 
     gesetztes 7.Bit.
     S24/0A  ist ein CP/M-String mit max. 9 Zeichen (das 10. wird  f}r 
     das Dollarzeichen am Ende ben|tigt).


So¬  daó waò daó wichtigste® Nocè eiî paaò Wortå zõ  deî  erl{uterndeî 
Texteî iî deò Steuerdateiº Jå klareò beschriebeî wird¬ waó zõ tuî ist¬ 
destï  wenigeò R}ckfrageî werdeî kommen® Besonderó solltå nochmaì  auæ 
diå  Tatsachå hingewieseî werden¬ daş HEØ-Zahleî miô  eineí  f}hrendeî 
Dollarzeicheî eingegebeî werdeî m}ssen¬ wegeî TURBÏ-Pascal® Dorô d}rf
teî  aí meisteî Problemå auftauchen¬ denî 1° isô nuî einmaì  waó  ganú 
andereó aló $10® Ansonsteî schadeô eó sicheò nicht¬ wenî deò Texô aucè 
durcè diå Benutzunç voî Bildschirmattributeî aufgelockerô wird.

Unä zõ guteò letzô nocè daó ]bliche:
Daó  Programí unä diå dazugeh|rigå Dokumentatioî sinä freigegebeî  f}ò 
deî  'Publiã Domain§-Bereicè unä d}rfeî zõ nichtkommerzielleî  Zweckeî 
kostenloó weitergegebeî werden¬ solangå daó Copyrighô deó Autoró nichô 
entfernô wird.

Weò Fehleò findeô odeò Anregungeî hat¬ wendeô sicè bittå an

     Olaæ Krumnow
     Wiesnerrinç 19c
     Ä-205° Hamburç 80

Telº (040© 72´ 9µ 66

Vieì Spa~...
